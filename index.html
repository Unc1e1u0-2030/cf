<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>多国家优选 IP 订阅平台</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 2em; background: #f5f5f5; }
    h1 { color: #333; }
    select, input, button { padding: 0.5em; margin: 0.5em 0; font-size: 1em; }
    .container { max-width: 600px; margin: auto; background: white; padding: 2em; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    .output { margin-top: 1em; word-break: break-all; background: #eee; padding: 1em; border-radius: 5px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>优选 IP 节点订阅生成器</h1>
    <label>选择国家：</label>
    <select id="country">
      <option value="US">美国</option>
      <option value="HK">香港</option>
      <option value="JP">日本</option>
      <option value="SG">新加坡</option>
      <option value="DE">德国</option>
      <option value="CN">中国</option>
      <option value="FR">法国</option>
      <option value="GB">英国</option>
      <option value="IN">印度</option>
    </select>
    <br>
    <label>输入域名 (host)：</label>
    <input type="text" id="host" placeholder="yourdomain.com">
    <br>
    <label>输入UUID：</label>
    <input type="text" id="uuid" placeholder="你的UUID">
    <br>
    <label>选择协议：</label>
    <select id="protocol">
      <option value="vless">VLESS</option>
      <option value="trojan">Trojan</option>
    </select>
    <br>
    <button onclick="generate()">生成订阅链接</button>
    <div class="output" id="result"></div>
  </div>

  <script>
    async function generate() {
      const country = document.getElementById('country').value;
      const host = document.getElementById('host').value.trim();
      const uuid = document.getElementById('uuid').value.trim();
      const protocol = document.getElementById('protocol').value;

      if (!host || !uuid) {
        alert('请填写完整域名和 UUID');
        return;
      }

      const url = `https://flat-salad-471e.uncleluo2030.workers.dev/?tag=${country}&host=${host}&uuid=${uuid}&proto=${protocol}&count=10`;
      try {
        const res = await fetch(url);
        const text = await res.text();
        document.getElementById('result').textContent = text;
      } catch (e) {
        document.getElementById('result').textContent = '❌ 获取失败，请检查参数';
      }
    }
  </script>
</body>
</html>
